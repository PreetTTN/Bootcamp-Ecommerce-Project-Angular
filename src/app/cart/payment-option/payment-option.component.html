<div class="container">
  <div class="row">
    <div class="col-lg-8 mt-3 mb-5">
      <span class="fw-bold fs-5">Payment Details</span>
      <hr />
      <form
        [formGroup]="paymentDetails"
        (ngSubmit)="onSubmit()"
        class="form-inline"
      >
        <div class="row">
          <div class="col-lg-12 mb-3">
            <div class="form-check border p-3" style="background: #c8c8c8">
              <input
                class="form-check-input radio-inline"
                type="radio"
                name="pay"
                id="flexRadioDefault2"
                formControlName="pay"
                checked
              />
              <label class="form-check-label" for="flexRadioDefault2">
                <span class="fs-5 fw-bold">Credit Card</span>
                <small class="d-block"
                  >pay from credit card and get rewards point directly into your
                  wallet, go cashless</small
                >
              </label>
              <div class="row mb-3 mt-4">
                <div class="col-lg-6">
                  <input
                    formControlName="cardNumber"
                    id="cardNumber"
                    type="text"
                    class="input-lg form-control cc-number"
                    autocomplete="cc-number"
                    placeholder="0000 0000 0000 0000"
                    required
                  />
                  <small
                    *ngIf="
                      !paymentDetails['controls']['cardNumber'].valid &&
                      paymentDetails['controls']['cardNumber'].touched
                    "
                    >Please Enter Card Number</small
                  >
                </div>
                <div class="col-lg-3">
                  <input
                    formControlName="expMonth"
                    id="cc-exp"
                    class="input-lg form-control cc-exp"
                    autocomplete="cc-exp"
                    placeholder="MM / YY"
                    required
                  />
                  <small
                    *ngIf="
                      !paymentDetails.controls['expMonth'].valid &&
                      paymentDetails.controls['expMonth']?.touched
                    "
                    >Please Enter Month and year</small
                  >
                </div>
                <div class="col-lg-3">
                  <input
                    formControlName="cvv"
                    id="cc-cvc"
                    type="tel"
                    class="input-lg form-control cc-cvc"
                    autocomplete="off"
                    placeholder="CVV"
                    required
                    pattern="/^[0-9]{3, 4}$/"
                  />
                  <!-- <small *ngIf = "!paymentDetails.controls['cvv'].valid && paymentDetails.controls['cvv']?.touched">Please Enter CVV Number</small> -->
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-lg-12">
                  <input
                    formControlName="cardHolderName"
                    type="text"
                    class="form-control"
                    placeholder="CARD HOLDER NAME"
                  />
                  <small
                    *ngIf="
                      !paymentDetails.controls['cardHolderName'].valid &&
                      paymentDetails.controls['cardHolderName']?.touched
                    "
                    >Please Enter Card Holder Name</small
                  >
                </div>
              </div>
            </div>
          </div>
          <hr />
          <div class="col-lg-12 mb-3">
            <div class="form-check border p-3">
              <input
                class="form-check-input radio-inline"
                type="radio"
                id="flexRadioDefault2"
                name="pay"
              />
              <label class="form-check-label" for="flexRadioDefault2">
                <span class="fs-5 fw-bold">Paypal</span>
                <small class="d-block"
                  >Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                  Esse, velit.</small
                >
              </label>
            </div>
          </div>
        </div>
        <hr />
      </form>
      <div class="d-flex justify-content-evenly col-md-4 mt-5">
        <button class="btn btn-primary px-4" type="submit" routerLink="/sucess">
          Pay Now
        </button>
        <button class="btn btn-danger px-3" routerLink="/shopping-details">
          Back
        </button>
      </div>
    </div>

    <div class="col-lg-4 mt-3">
      <div class="row">
        <span class="fw-bold fs-5">Shipping Details</span>
        <hr class="mt-3" />
        <div class="d-flex" *ngFor = "let p of product">
          <div class="col-lg-4 col-sm-4 col-xs-4 mb-4">
            <div>
              <img
                class="pic"
                style="width: 100px; height: 70px"
                src="{{p.image}}"
                alt=""
              />
            </div>
          </div>
          <div class="col-lg-8 col-sm-8 col-xs-8">
            <h4 style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 15ch; font-size: 15px;">{{p.title}}</h4>
            <p>Price $ {{p.price}}</p>
          </div>
        </div>

        
        <hr />
        <div class="d-flex flex-column b-bottom mb-4">
          <div class="d-flex justify-content-between">
            <small class="text-muted">SUBTOTAL</small>
            <p>$ {{grandTotal}}</p>
          </div>
          <div class="d-flex justify-content-between">
            <small class="text-muted">SHIPPING</small>
            <p>$22</p>
          </div>
          <div class="d-flex justify-content-between">
            <small class="text-muted">TAXES</small>
            <p>$22</p>
          </div>
          <hr />
          <div class="d-flex justify-content-between fw-bold fs-4">
            TOTAL
            <p>$132</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
